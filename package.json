{
    "name": "onewave-backend",
    "version": "1.0.0",
    "private": true,
    "type": "module",
    "description": "Backend only (Hono, Cloudflare Workers / Node). Frontend is in ./frontend when needed.",
    "scripts": {
        "dev": "wrangler dev",
        "dev:node": "tsx src/server-node.ts",
        "db:up": "docker compose up -d",
        "db:down": "docker compose down",
        "db:init": "docker exec -i onewave-db psql -U onewave -d onewave < scripts/init-db.sql",
        "db:check": "tsx scripts/check-db.ts",
        "build": "vite build",
        "start": "wrangler dev --local",
        "test": "vitest run --exclude '**/*.integration.test.ts'",
        "test:unit": "vitest run --exclude '**/*.integration.test.ts'",
        "test:integration": "vitest run '**/*.integration.test.ts'",
        "test:api": "vitest run -c vitest.api.config.ts",
        "test:watch": "vitest --exclude '**/*.integration.test.ts'",
        "test:all": "npm run test && npm run test:integration",
        "lint": "eslint . --cache --cache-location ./node_modules/.cache/eslint/",
        "lint:fix": "npm run lint -- --fix",
        "format": "prettier --write . --cache --cache-location ./node_modules/.cache/prettier/ --list-different",
        "type-check": "tsc -b",
        "check": "npm run format && npm run lint:fix && npm run type-check && npm run test",
        "prepare": "husky || true"
    },
    "dependencies": {
        "@ai-sdk/google": "^3.0.21",
        "@ai-sdk/provider": "^3.0.7",
        "@google/generative-ai": "^0.24.1",
        "@hono/node-server": "^1.19.9",
        "@langchain/core": "^1.1.19",
        "@langchain/google-genai": "^2.1.15",
        "ai": "^6.0.73",
        "hono": "^4.0.0",
        "isomorphic-dompurify": "^2.35.0",
        "jose": "^6.1.3",
        "pg": "^8.18.0",
        "zod": "^4.3.6"
    },
    "devDependencies": {
        "@cloudflare/vite-plugin": "^1.23.1",
        "@cloudflare/vitest-pool-workers": "^0.12.10",
        "@cloudflare/workers-types": "^4.20260206.0",
        "@eslint/js": "^9.39.2",
        "@types/eslint": "^9.6.1",
        "@types/eslint-config-prettier": "^6.11.3",
        "@types/node": "^20.0.0",
        "@types/pg": "^8.16.0",
        "@vitest/coverage-istanbul": "~3.2.0",
        "dotenv": "^17.2.4",
        "eslint": "^9.39.2",
        "eslint-config-prettier": "^9.0.0",
        "globals": "^15.14.0",
        "husky": "^9.1.7",
        "prettier": "^3.0.0",
        "tsx": "^4.21.0",
        "typescript": "<5.6.0",
        "typescript-eslint": "^8.54.0",
        "vite": "^7.3.1",
        "vitest": "~3.2.0",
        "wrangler": "^4.63.0"
    }
}
